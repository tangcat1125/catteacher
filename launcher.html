<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>æ•™æ¡ˆç²¾éˆæŒ‡ä»¤ç”¢ç”Ÿå™¨ (å«æ¸¬é©—é¡Œç”Ÿæˆã€‚è«‹è€å¸«å€‘æ³¨æ„ï¼šé€™å€‹éƒ½æ˜¯AIç”Ÿæˆçš„æ±è¥¿ï¼Œä¸æ™‚æœƒæœ‰AIå¹»è¦ºå­˜åœ¨ï¼Œä¸ä»£è¡¨ä¸€å®šå…§å®¹éƒ½æ­£ç¢ºã€‚è²“è²“å¿…é ˆç‰¹åˆ¥èªªæ˜)</title> <!-- æ›´æ–°æ¨™é¡Œ -->
  <style>
    /* CSS æ¨£å¼èˆ‡ä¸Šä¸€ç‰ˆç›¸åŒ... */
    html, body { margin: 0; padding: 0; font-family: "Microsoft JhengHei", "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; background: #f5f5f5; line-height: 1.6; }
    .container { max-width: 800px; margin: 20px auto; background: white; padding: 25px; border-radius: 12px; box-shadow: 0 2px 15px rgba(0,0,0,0.1); box-sizing: border-box; }
    h1 { text-align: center; color: #333; font-size: 1.8em; margin-bottom: 20px; }
    label, select, input[type=text], input[type=number], textarea, fieldset { display: block; width: 100%; margin-top: 15px; margin-bottom: 5px; font-size: 1em; font-weight: bold; color: #555; box-sizing: border-box; }
    label:first-of-type, fieldset:first-of-type { margin-top: 0; }
    input[type=text], input[type=number], select, textarea { padding: 10px; border: 1px solid #ccc; border-radius: 5px; width: 100%; box-sizing: border-box; font-family: inherit; font-size: 1em; margin-top: 0; font-weight: normal; }
    textarea { resize: vertical; }
    input:focus, select:focus, textarea:focus { border-color: #2c74d6; outline: none; box-shadow: 0 0 0 2px rgba(44, 116, 214, 0.2); }
    /* Checkbox and Radio button styling */
    .checkbox-group label, .radio-group label { display: inline-block; width: auto; margin-right: 15px; margin-bottom: 8px; font-weight: normal; color: #333; cursor: pointer; line-height: 1.4; }
    .checkbox-group input[type="checkbox"], .radio-group input[type="radio"] { width: auto; margin-right: 5px; vertical-align: middle; cursor: pointer; }
    fieldset { border: 1px solid #ddd; border-radius: 8px; padding: 15px; margin-top: 20px; margin-bottom: 20px; }
    legend { font-weight: bold; padding: 0 10px; color: #333; font-size: 1.1em; }
    fieldset fieldset { margin-top: 10px; margin-bottom: 10px; border-color: #eee; padding: 10px; }
    fieldset fieldset legend { font-size: 1em; font-weight: normal; color: #555; padding: 0 5px; }
    /* --- End checkbox/radio styles --- */
    .btn, .ai-btn { margin-top: 20px; background-color: #2c74d6; color: white; border: none; padding: 12px 15px; cursor: pointer; border-radius: 5px; font-size: 1.1em; width: 100%; box-sizing: border-box; transition: background-color 0.2s ease; text-align: center; display: block; text-decoration: none; }
    .btn:hover, .ai-btn:hover { background-color: #1e5fbf; }
    .ai-btn { background-color: #28a745; }
    .ai-btn:hover { background-color: #218838; }
    #output { background-color: #e9ecef; font-family: Consolas, "Courier New", monospace; font-size: 0.95em; line-height: 1.5; margin-top: 5px; }
    label[for="output"] { margin-top: 25px; }
    .footer { text-align: center; margin-top: 30px; padding-top: 20px; border-top: 1px solid #eee; font-size: 0.9em; color: #777; }
    .footer p { margin-bottom: 10px; }
    .footer a { color: #2c74d6; text-decoration: none; }
    .footer a:hover { text-decoration: underline; }
    .paw { width: 35px; cursor: pointer; vertical-align: middle; margin: 0 5px; }
    .studio-img { display: block; margin: 0 auto 25px auto; max-height: 100px; width: auto; }
    @media screen and (max-width: 600px) {
      .container { padding: 15px; margin: 10px; }
      h1 { font-size: 1.6em; }
      .btn, .ai-btn { font-size: 1em; padding: 10px 12px; }
      .checkbox-group label, .radio-group label { display: block; margin-right: 0; width: 100%; margin-bottom: 10px; } /* Stack radios too */
      fieldset { padding: 10px; }
      fieldset fieldset { padding: 8px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>æ•™æ¡ˆç²¾éˆæŒ‡ä»¤ç”¢ç”Ÿå™¨ (å«æ¸¬é©—é¡Œç”Ÿæˆ)</h1>
    <img src="images/white_cat_ai_studio_h300_equal.png" class="studio-img" alt="ç™½è²“AIå·¥ä½œå®¤">

    <!-- åŸºæœ¬è³‡è¨Šæ¬„ä½... (èˆ‡ä¸Šä¸€ç‰ˆç›¸åŒ) -->
    <label for="school">å­¸æ ¡ï¼š</label>
    <input type="text" id="school">

    <label for="designerName">æ•™æ¡ˆè¨­è¨ˆäººå§“åï¼š</label>
    <input type="text" id="designerName">

    <label for="topic">æ•™å­¸ä¸»é¡Œï¼š</label>
    <input type="text" id="topic" required placeholder="ï¼ˆé€™å€‹ç¸½å¾—å¡«ä¸€ä¸‹å§...ï¼‰">

    <label for="grade">å¹´ç´šï¼š</label>
    <select id="grade">
      <option>åœ‹å°ä¸€å¹´ç´š</option>
      <option>åœ‹å°äºŒå¹´ç´š</option>
      <option selected>åœ‹å°ä¸‰å¹´ç´š</option>
      <option>åœ‹å°å››å¹´ç´š</option>
      <option>åœ‹å°äº”å¹´ç´š</option>
      <option>åœ‹å°å…­å¹´ç´š</option>
      <option>åœ‹ä¸­ä¸ƒå¹´ç´š</option>
      <option>åœ‹ä¸­å…«å¹´ç´š</option>
      <option>åœ‹ä¸­ä¹å¹´ç´š</option>
      <option>é«˜ä¸­ä¸€å¹´ç´š</option>
      <option>é«˜ä¸­äºŒå¹´ç´š</option>
      <option>é«˜ä¸­ä¸‰å¹´ç´š</option>
    </select>

    <label for="subject">ç§‘ç›®ï¼š</label>
    <select id="subject">
      <option>åœ‹èª</option>
      <option>æ•¸å­¸</option>
      <option selected>è‡ªç„¶</option>
      <option>ç¤¾æœƒ</option>
      <option>ç”Ÿæ´»èª²ç¨‹</option>
      <option>ç¶œåˆæ´»å‹•</option>
      <option>å¥åº·èˆ‡é«”è‚²</option>
      <option>è—è¡“</option>
      <option>ç§‘æŠ€</option>
      <option>è‹±èª</option>
    </select>

    <label for="periods">æ•™å­¸ç¯€æ•¸ï¼š</label>
    <input type="number" id="periods" min="1" step="1" value="1" placeholder="è«‹è¼¸å…¥æ­£æ•´æ•¸">

    <!-- SDGs æŒ‡æ¨™é¸é …... (èˆ‡ä¸Šä¸€ç‰ˆç›¸åŒ) -->
     <fieldset>
        <legend>é€£çµçš„SDGsæŒ‡æ¨™ (é¸å¡«ï¼Œç•™ç©ºå°‡ç”± AI å»ºè­°)</legend>
        <div class="checkbox-group">
            <label><input type="checkbox" name="sdg" value="SDG1 æ¶ˆé™¤è²§çª®"> SDG1 æ¶ˆé™¤è²§çª®</label>
            <label><input type="checkbox" name="sdg" value="SDG2 æ¶ˆé™¤é£¢é¤“"> SDG2 æ¶ˆé™¤é£¢é¤“</label>
            <label><input type="checkbox" name="sdg" value="SDG3 å¥åº·èˆ‡ç¦ç¥‰"> SDG3 å¥åº·èˆ‡ç¦ç¥‰</label>
            <label><input type="checkbox" name="sdg" value="SDG4 å„ªè³ªæ•™è‚²"> SDG4 å„ªè³ªæ•™è‚²</label>
            <label><input type="checkbox" name="sdg" value="SDG5 æ€§åˆ¥å¹³ç­‰"> SDG5 æ€§åˆ¥å¹³ç­‰</label>
            <label><input type="checkbox" name="sdg" value="SDG6 æ½”æ·¨æ°´èˆ‡è¡›ç”Ÿ"> SDG6 æ½”æ·¨æ°´èˆ‡è¡›ç”Ÿ</label>
            <label><input type="checkbox" name="sdg" value="SDG7 å¯è² æ“”èƒ½æº"> SDG7 å¯è² æ“”èƒ½æº</label>
            <label><input type="checkbox" name="sdg" value="SDG8 å°±æ¥­èˆ‡ç¶“æ¿Ÿæˆé•·"> SDG8 å°±æ¥­èˆ‡ç¶“æ¿Ÿæˆé•·</label>
            <label><input type="checkbox" name="sdg" value="SDG9 å·¥æ¥­ã€å‰µæ–°èˆ‡åŸºç¤å»ºè¨­"> SDG9 å·¥æ¥­ã€å‰µæ–°èˆ‡åŸºç¤å»ºè¨­</label>
            <label><input type="checkbox" name="sdg" value="SDG10 æ¸›å°‘ä¸å¹³ç­‰"> SDG10 æ¸›å°‘ä¸å¹³ç­‰</label>
            <label><input type="checkbox" name="sdg" value="SDG11 æ°¸çºŒåŸå¸‚èˆ‡ç¤¾å€"> SDG11 æ°¸çºŒåŸå¸‚èˆ‡ç¤¾å€</label>
            <label><input type="checkbox" name="sdg" value="SDG12 è²¬ä»»æ¶ˆè²»èˆ‡ç”Ÿç”¢"> SDG12 è²¬ä»»æ¶ˆè²»èˆ‡ç”Ÿç”¢</label>
            <label><input type="checkbox" name="sdg" value="SDG13 æ°£å€™è¡Œå‹•"> SDG13 æ°£å€™è¡Œå‹•</label>
            <label><input type="checkbox" name="sdg" value="SDG14 æ°´ä¸‹ç”Ÿå‘½"> SDG14 æ°´ä¸‹ç”Ÿå‘½</label>
            <label><input type="checkbox" name="sdg" value="SDG15 é™¸åœ°ç”Ÿå‘½"> SDG15 é™¸åœ°ç”Ÿå‘½</label>
            <label><input type="checkbox" name="sdg" value="SDG16 å’Œå¹³ã€æ­£ç¾©èˆ‡åˆ¶åº¦"> SDG16 å’Œå¹³ã€æ­£ç¾©èˆ‡åˆ¶åº¦</label>
            <label><input type="checkbox" name="sdg" value="SDG17 å¤¥ä¼´é—œä¿‚"> SDG17 å¤¥ä¼´é—œä¿‚</label>
        </div>
    </fieldset>

    <!-- æ ¸å¿ƒç´ é¤Šé¸é …... (èˆ‡ä¸Šä¸€ç‰ˆç›¸åŒ) -->
    <fieldset>
        <legend>æ¬²åŸ¹é¤Šçš„æ ¸å¿ƒç´ é¤Šé …ç›® (é¸å¡«ï¼Œç•™ç©ºå°‡ç”± AI å»ºè­°)</legend>
        <fieldset>
            <legend>A è‡ªä¸»è¡Œå‹•</legend>
             <div class="checkbox-group">
                 <label><input type="checkbox" name="competency" value="A1 èº«å¿ƒç´ è³ªèˆ‡è‡ªæˆ‘ç²¾é€²"> A1 èº«å¿ƒç´ è³ªèˆ‡è‡ªæˆ‘ç²¾é€²</label>
                 <label><input type="checkbox" name="competency" value="A2 ç³»çµ±æ€è€ƒèˆ‡è§£æ±ºå•é¡Œ"> A2 ç³»çµ±æ€è€ƒèˆ‡è§£æ±ºå•é¡Œ</label>
                 <label><input type="checkbox" name="competency" value="A3 è¦åŠƒåŸ·è¡Œèˆ‡å‰µæ–°æ‡‰è®Š"> A3 è¦åŠƒåŸ·è¡Œèˆ‡å‰µæ–°æ‡‰è®Š</label>
            </div>
        </fieldset>
        <fieldset>
            <legend>B æºé€šäº’å‹•</legend>
            <div class="checkbox-group">
                 <label><input type="checkbox" name="competency" value="B1 ç¬¦è™Ÿé‹ç”¨èˆ‡æºé€šè¡¨é”"> B1 ç¬¦è™Ÿé‹ç”¨èˆ‡æºé€šè¡¨é”</label>
                 <label><input type="checkbox" name="competency" value="B2 ç§‘æŠ€è³‡è¨Šèˆ‡åª’é«”ç´ é¤Š"> B2 ç§‘æŠ€è³‡è¨Šèˆ‡åª’é«”ç´ é¤Š</label>
                 <label><input type="checkbox" name="competency" value="B3 è—è¡“æ¶µé¤Šèˆ‡ç¾æ„Ÿç´ é¤Š"> B3 è—è¡“æ¶µé¤Šèˆ‡ç¾æ„Ÿç´ é¤Š</label>
            </div>
        </fieldset>
        <fieldset>
            <legend>C ç¤¾æœƒåƒèˆ‡</legend>
             <div class="checkbox-group">
                <label><input type="checkbox" name="competency" value="C1 é“å¾·å¯¦è¸èˆ‡å…¬æ°‘æ„è­˜"> C1 é“å¾·å¯¦è¸èˆ‡å…¬æ°‘æ„è­˜</label>
                <label><input type="checkbox" name="competency" value="C2 äººéš›é—œä¿‚èˆ‡åœ˜éšŠåˆä½œ"> C2 äººéš›é—œä¿‚èˆ‡åœ˜éšŠåˆä½œ</label>
                <label><input type="checkbox" name="competency" value="C3 å¤šå…ƒæ–‡åŒ–èˆ‡åœ‹éš›ç†è§£"> C3 å¤šå…ƒæ–‡åŒ–èˆ‡åœ‹éš›ç†è§£</label>
            </div>
        </fieldset>
    </fieldset>

    <!-- æ•™å­¸ç›®æ¨™ã€é‡é»æ¬„ä½... (èˆ‡ä¸Šä¸€ç‰ˆç›¸åŒ) -->
    <label for="goal1">æ•™å­¸ç›®æ¨™ï¼š</label>
    <input type="text" id="goal1" placeholder="æ•™å­¸ç›®æ¨™ 1 (é¸å¡«ï¼Œç•™ç©ºå°‡ç”± AI ç”Ÿæˆ)">
    <input type="text" id="goal2" placeholder="æ•™å­¸ç›®æ¨™ 2 (é¸å¡«ï¼Œç•™ç©ºå°‡ç”± AI ç”Ÿæˆ)">
    <input type="text" id="goal3" placeholder="æ•™å­¸ç›®æ¨™ 3 (é¸å¡«ï¼Œç•™ç©ºå°‡ç”± AI ç”Ÿæˆ)">

    <label for="teachingFocus">æ•™å­¸é‡é»ï¼š</label>
    <textarea id="teachingFocus" rows="4" placeholder="ï¼ˆé¸å¡«ï¼‰æ¢åˆ—èªªæ˜æœ¬ç¯€èª²æ•™å¸«å¸Œæœ›å‚³é”çš„é—œéµçŸ¥è­˜é»æˆ–æŠ€èƒ½ã€‚è‹¥ç•™ç©ºï¼Œå°‡ç”± AI ç”Ÿæˆã€‚"></textarea>

    <label for="studentLearningFocus">å­¸ç”Ÿå­¸ç¿’é‡é»ï¼š</label>
    <textarea id="studentLearningFocus" rows="4" placeholder="ï¼ˆé¸å¡«ï¼‰æ¢åˆ—èªªæ˜å¸Œæœ›å­¸ç”Ÿåœ¨æœ¬ç¯€èª²ä¸­å…·é«”å­¸æœƒã€åšåˆ°æˆ–ç†è§£çš„å…§å®¹ã€‚è‹¥ç•™ç©ºï¼Œå°‡ç”± AI ç”Ÿæˆã€‚"></textarea>

    <!-- æ–°å¢ï¼šæ¸¬é©—é¡Œç”Ÿæˆé¸é … -->
    <fieldset>
        <legend>æ˜¯å¦éœ€è¦ AI ç”Ÿæˆéš¨å ‚æ¸¬é©—é¡Œï¼Ÿ</legend>
        <div class="radio-group">
            <label><input type="radio" name="quizType" value="no" checked> å¦</label>
            <label><input type="radio" name="quizType" value="single"> æ˜¯ (å–®é¸é¡Œ)</label>
            <label><input type="radio" name="quizType" value="multi"> æ˜¯ (è¤‡é¸é¡Œ)</label>
        </div>
    </fieldset>

    <!-- æŒ‰éˆ•èˆ‡è¼¸å‡ºå€åŸŸ... -->
    <button class="btn" onclick="generatePrompt()">âœ¨ ç”¢ç”Ÿæ•™æ¡ˆæŒ‡ä»¤ (å«æ¸¬é©—é¡Œ)</button>

    <label for="output">ç”¢ç”Ÿçš„æŒ‡ä»¤ï¼š</label>
    <textarea id="output" rows="20" readonly></textarea>

    <button class="btn" onclick="copyPrompt()">ğŸ“‹ è¤‡è£½æŒ‡ä»¤</button>
    <a class="ai-btn" href="https://chat.openai.com" target="_blank" rel="noopener noreferrer">ğŸš€ é–‹å•Ÿ ChatGPT ä¸¦è²¼ä¸Š</a>

    <!-- Footer... (èˆ‡ä¸Šä¸€ç‰ˆç›¸åŒ) -->
     <div class="footer">
      <p>
        <a href="https://tangcat1125.github.io/catteacher/tools.html">
          <img src="https://cdn-icons-png.flaticon.com/512/616/616408.png" alt="paw" class="paw">
          å›åˆ°åŠŸèƒ½å€
        </a>
      </p>
      <p>å–œæ­¡é€™å€‹å·¥å…·å—ï¼Ÿè«‹åˆ° <a href="https://www.facebook.com/share/p/159FQUFrYG/" target="_blank" rel="noopener noreferrer">è²“è€å¸«çš„è‡‰æ›¸æŒ‰è®šæ”¯æŒï¼</a> â¤ï¸</p>
      <p><small>Â© 2024 ç™½è²“AIå·¥ä½œå®¤ & è²“è€å¸«</small></p>
    </div>
  </div>

  <script>
    function generatePrompt() {
      // --- å–å¾—æ‰€æœ‰æ¬„ä½çš„å€¼ ---
      const school = document.getElementById("school").value.trim();
      const designerName = document.getElementById("designerName").value.trim();
      const topic = document.getElementById("topic").value.trim();
      const grade = document.getElementById("grade").value;
      const subject = document.getElementById("subject").value;
      const periods = document.getElementById("periods").value;
      const g1 = document.getElementById("goal1").value.trim();
      const g2 = document.getElementById("goal2").value.trim();
      const g3 = document.getElementById("goal3").value.trim();
      const teachingFocus = document.getElementById("teachingFocus").value.trim();
      const studentLearningFocus = document.getElementById("studentLearningFocus").value.trim();
      // æ–°å¢ï¼šè®€å–æ¸¬é©—é¡Œé¸é …
      const quizType = document.querySelector('input[name="quizType"]:checked').value;

      // --- æª¢æŸ¥æ•™å­¸ä¸»é¡Œ ---
      if (!topic) {
          alert("å“å‘€ï¼è‡³å°‘ã€Œæ•™å­¸ä¸»é¡Œã€è¦å¡«ä¸€ä¸‹å•¦ï¼Œä¸ç„¶ AI ä¹Ÿä¸çŸ¥é“è¦æ•™ä»€éº¼å–”ï¼ğŸ˜…");
          document.getElementById("topic").focus();
          return;
      }

      // --- åˆ¤æ–·èª²æ™‚èˆ‡å­¸ç¨‹ ---
      let periodDuration = 45;
      let gradeLevel = "åœ‹ä¸­/é«˜ä¸­"; // é è¨­
      if (grade.includes('åœ‹å°')) {
          periodDuration = 40;
          gradeLevel = "åœ‹å°";
      } else if (grade.includes('åœ‹ä¸­')) {
           gradeLevel = "åœ‹ä¸­";
      } // å¯ä»¥å†åŠ  else if (grade.includes('é«˜ä¸­')) ...

      // --- è™•ç†é¸å–çš„ SDGs ---
      let sdgsText = '';
      const selectedSdgs = [];
      const sdgCheckboxes = document.querySelectorAll('input[name="sdg"]:checked');
      if (sdgCheckboxes.length > 0) {
          sdgCheckboxes.forEach((checkbox) => { selectedSdgs.push(checkbox.value); });
          sdgsText = `é€£çµçš„SDGsæŒ‡æ¨™ï¼š${selectedSdgs.join('ã€')}\n`;
      } else {
          sdgsText = `é€£çµçš„SDGsæŒ‡æ¨™ï¼š(è«‹æ ¹æ“šæ•™å­¸ä¸»é¡Œã€Œ${topic}ã€å’Œå¹´ç´šã€Œ${grade}ã€ï¼Œå»ºè­°æ•¸å€‹æœ€ç›¸é—œçš„SDGsæŒ‡æ¨™)\n`;
      }

      // --- è™•ç†é¸å–çš„æ ¸å¿ƒç´ é¤Š ---
      let competenciesText = '';
      const selectedCompetencies = [];
      const competencyCheckboxes = document.querySelectorAll('input[name="competency"]:checked');
      if (competencyCheckboxes.length > 0) {
          competencyCheckboxes.forEach((checkbox) => { selectedCompetencies.push(checkbox.value); });
          competenciesText = `æ¬²åŸ¹é¤Šçš„æ ¸å¿ƒç´ é¤Šï¼š${selectedCompetencies.join('ã€')}\n`;
      } else {
          competenciesText = `æ¬²åŸ¹é¤Šçš„æ ¸å¿ƒç´ é¤Šï¼š(è«‹æ ¹æ“šæ•™å­¸ä¸»é¡Œã€Œ${topic}ã€å’Œå¹´ç´šã€Œ${grade}ã€ï¼Œå»ºè­°æ•¸å€‹æœ€ç›¸é—œçš„æ ¸å¿ƒç´ é¤Šé …ç›®)\n`;
      }

      // --- é–‹å§‹çµ„è£æŒ‡ä»¤å­—ä¸² ---
      let text = `è«‹å¹«æˆ‘æ ¹æ“šä»¥ä¸‹æ¢ä»¶è¨­è¨ˆä¸€ä»½ ${periods} ç¯€èª²çš„æ•™æ¡ˆï¼ˆæ¯ç¯€èª² ${periodDuration} åˆ†é˜ï¼‰ï¼š\n\n`;

      // --- åŸºæœ¬è³‡è¨Š ---
      text += `--- åŸºæœ¬è³‡è¨Š ---\n`;
      if (school) text += `å­¸æ ¡ï¼š${school}\n`;
      if (designerName) text += `æ•™æ¡ˆè¨­è¨ˆäººï¼š${designerName}\n`;
      text += `æ•™å­¸ä¸»é¡Œï¼š${topic}\n`;
      text += `å¹´ç´šï¼š${grade}\n`;
      text += `ç§‘ç›®ï¼š${subject}\n`;
      text += `æ•™å­¸ç¯€æ•¸ï¼š${periods} ç¯€\n`;
      text += `æ¯ç¯€èª²æ™‚é–“ï¼š${periodDuration} åˆ†é˜\n\n`;

      // --- æ•™å­¸ç›®æ¨™èˆ‡é‡é» ---
      text += `--- æ•™å­¸ç›®æ¨™èˆ‡é‡é» ---\n`;
      if (g1 || g2 || g3) {
        text += `æ•™å­¸ç›®æ¨™ï¼š\n`;
        if (g1) text += `1. ${g1}\n`; if (g2) text += `2. ${g2}\n`; if (g3) text += `3. ${g3}\n`;
      } else {
        text += `æ•™å­¸ç›®æ¨™ï¼š(è«‹æ ¹æ“šæ•™å­¸ä¸»é¡Œã€Œ${topic}ã€ç”Ÿæˆåˆé©çš„æ•™å­¸ç›®æ¨™ï¼Œå»ºè­°ä¸‰é …)\n`;
      }
      if (teachingFocus) { text += `\næ•™å­¸é‡é»ï¼š\n${teachingFocus}\n`; }
      else { text += `\næ•™å­¸é‡é»ï¼š(è«‹æ ¹æ“šæ•™å­¸ä¸»é¡Œå’Œç›®æ¨™ï¼Œç”Ÿæˆæ¢åˆ—å¼çš„æ•™å­¸é‡é»)\n`; }
      if (studentLearningFocus) { text += `\nå­¸ç”Ÿå­¸ç¿’é‡é»ï¼š\n${studentLearningFocus}\n`; }
      else { text += `\nå­¸ç”Ÿå­¸ç¿’é‡é»ï¼š(è«‹æ ¹æ“šæ•™å­¸ä¸»é¡Œå’Œç›®æ¨™ï¼Œç”Ÿæˆæ¢åˆ—å¼çš„å­¸ç”Ÿå­¸ç¿’é‡é»)\n`; }
      text += `\n`;

      // --- èª²ç¶±èˆ‡ç´ é¤Šé€£çµ ---
      text += `--- èª²ç¶±èˆ‡ç´ é¤Šé€£çµ ---\n`;
      text += sdgsText;
      text += competenciesText;
      text += `\n`;

      // --- æ•™æ¡ˆå…§å®¹è¦æ±‚ ---
      text += `--- æ•™æ¡ˆå…§å®¹è¦æ±‚ ---\n`;
      text += `è«‹å°‡æ•™å­¸æ´»å‹•åˆç†åˆ†é…åˆ° ${periods} ç¯€èª²ä¸­ã€‚\n`;
      text += `æ•™æ¡ˆæ ¼å¼è«‹ä½¿ç”¨æ©«å¼è¡¨æ ¼ï¼ŒåŒ…å«ä»¥ä¸‹æ¬„ä½ï¼š\n`;
      text += `1. æ•™å­¸æ´»å‹•æµç¨‹ï¼ˆåŒ…å«å¼•èµ·å‹•æ©Ÿã€ç™¼å±•æ´»å‹•ã€ç¶œåˆæ´»å‹•ï¼Œä¸¦æ¨™ç¤ºå°æ‡‰ç¯€æ¬¡ï¼‰\n`;
      text += `2. å­¸ç”Ÿæ´»å‹•èˆ‡äº’å‹•æ–¹å¼ï¼ˆèªªæ˜å­¸ç”Ÿéœ€é€²è¡Œçš„æ´»å‹•ã€è¨è«–æˆ–æ“ä½œï¼‰\n`;
      text += `3. å››å­¸æ‡‰ç”¨ï¼ˆæ¨™è¨»æ´»å‹•ä¸»è¦æ¶‰åŠï¼šè‡ªå­¸ã€äº’å­¸ã€å°å­¸ã€å…±å­¸ï¼‰\n`;
      text += `4. æ•™å­¸è³‡æºï¼ˆä½¿ç”¨çš„æ•™å…·ã€åª’æã€æ•¸ä½å·¥å…·ç­‰ï¼‰\n`;
      text += `5. æ™‚é–“åˆ†é…ï¼ˆåˆ†é˜ï¼Œè«‹ç¢ºä¿æ¯ç¯€èª²ç¸½æ™‚æ•¸ç‚º ${periodDuration} åˆ†é˜ï¼‰\n`;
      text += `6. è©•é‡æ–¹å¼ï¼ˆå…·é«”èªªæ˜è©•é‡æ–¹æ³•ï¼Œå¦‚ï¼šå£èªè©•é‡ã€å¯¦ä½œè©•é‡ã€å­¸ç¿’å–®ã€æå•ã€è§€å¯Ÿè¨˜éŒ„ç­‰ï¼‰\n`;
      text += `7. å°æ‡‰æ ¸å¿ƒç´ é¤Šï¼ˆæ¨™è¨»æ­¤æ´»å‹•ä¸»è¦å°æ‡‰å»ºè­°æˆ–é¸æ“‡çš„æ ¸å¿ƒç´ é¤Šé …ç›®ï¼‰\n\n`;

      // --- å­¸ç”Ÿè‡ªè©•è¡¨è¦æ±‚ ---
      text += `--- å­¸ç”Ÿè‡ªè©•è¡¨è¦æ±‚ ---\n`;
      text += `è«‹å¦å¤–è¨­è¨ˆä¸€ä»½å­¸ç”Ÿè‡ªè©•è¡¨ï¼Œè®“å­¸ç”Ÿå¯ä»¥é‡å°ã€Œå­¸ç¿’åƒèˆ‡åº¦ã€ã€ã€Œåˆä½œåˆ†äº«ã€ã€ã€Œè¡¨é”æ¸…æ™°åº¦ã€é€™ä¸‰å€‹æŒ‡æ¨™é€²è¡Œè‡ªæˆ‘è©•é‘‘ã€‚\n`;
      text += `è‡ªè©•è¡¨æ ¼å¼ï¼šæ©«å¼è¡¨æ ¼ï¼ŒåŒ…å«ã€Œè©•é‘‘æŒ‡æ¨™ã€ã€ã€Œäº”æ˜Ÿç­‰ç¬¬ï¼ˆâ˜†â˜†â˜†â˜†â˜†ï¼Œè®“å­¸ç”Ÿè‡ªè¡Œå¡—é»‘ï¼‰ã€ã€ã€Œå…·é«”èªªæ˜/ç¯„ä¾‹ã€æ¬„ä½ã€‚\n`;
      text += `æœ€å¾Œè«‹åŠ ä¸Šã€Œçµ¦è‡ªå·±çš„é¼“å‹µã€å’Œã€Œç°½åã€æ¬„ä½ã€‚\n\n`;

      // --- æ–°å¢ï¼šéš¨å ‚æ¸¬é©—é¡Œè¦æ±‚ (æ ¹æ“šé¸é …åŠ å…¥) ---
      if (quizType === 'single' || quizType === 'multi') {
          text += `--- éš¨å ‚æ¸¬é©— (é¸æ“‡é¡Œ) ---\n`;
          const questionType = (quizType === 'single') ? 'å–®é¸' : 'è¤‡é¸';
          text += `è«‹æ ¹æ“šæœ¬æ•™æ¡ˆå…§å®¹ï¼Œç‚ºã€Œ${gradeLevel}ã€å­¸ç”Ÿè¨­è¨ˆ 5 é¡Œé¸æ“‡é¡Œ (${questionType}é¡Œ)ã€‚\n`; // é è¨­ 5 é¡Œ
          text += `æ ¼å¼è¦æ±‚ï¼š\n`;
          text += `1. æ¯é¡ŒåŒ…å«4å€‹é¸é …ï¼Œç·¨è™Ÿç‚º 1, 2, 3, 4ã€‚\n`;
          text += `2. é¡Œç›®èˆ‡é¸é …æ–‡å­—è«‹ä»¥ã€Œé»‘å­—ã€å‘ˆç¾ã€‚\n`;
          text += `3. è«‹åœ¨æ­£ç¢ºç­”æ¡ˆçš„é¸é …ç·¨è™Ÿå‰åŠ ä¸Šã€Œ(â—‹)ã€æ¨™è¨˜ã€‚ä¾‹å¦‚ï¼š(â—‹) 3. xxxxx\n`;
          if (quizType === 'multi') {
              text += `   (è‹¥æ˜¯è¤‡é¸é¡Œï¼Œè«‹æ¨™è¨˜æ‰€æœ‰æ­£ç¢ºé¸é …)ã€‚\n`;
          }
          text += `4. (æ ¼å¼æé†’ï¼šæœ€çµ‚å‘ˆç¾æ™‚ï¼Œæ­£ç¢ºç­”æ¡ˆçš„é¸é …æ–‡å­—å»ºè­°ä½¿ç”¨ã€Œç´…è‰²ã€æ¨™ç¤ºï¼Œä½†AIåªéœ€æ¨™è¨˜(â—‹)å³å¯)ã€‚\n`;
      }
      // --- æ¸¬é©—é¡Œè¦æ±‚çµæŸ ---

      // --- è¼¸å‡ºçµæœ ---
      document.getElementById("output").value = text.trim();
    }

    // --- copyPrompt å‡½æ•¸ä¿æŒä¸è®Š ---
    function copyPrompt() {
      const output = document.getElementById("output");
      if (!output.value) {
          alert("è«‹å…ˆç”¢ç”ŸæŒ‡ä»¤ï¼");
          return;
      }
      output.select();
      output.setSelectionRange(0, 99999);

      if (navigator.clipboard && navigator.clipboard.writeText) {
          navigator.clipboard.writeText(output.value).then(() => {
              alert("å·²è¤‡è£½æ•™æ¡ˆæŒ‡ä»¤åˆ°å‰ªè²¼ç°¿ï¼");
          }).catch(err => {
              console.error('ç„¡æ³•ä½¿ç”¨ Clipboard API: ', err);
              try {
                  document.execCommand('copy');
                  alert("å·²è¤‡è£½æ•™æ¡ˆæŒ‡ä»¤åˆ°å‰ªè²¼ç°¿ï¼(Fallback)");
              } catch (e) {
                  console.error('execCommand å¤±æ•—: ', e);
                  alert("è¤‡è£½å¤±æ•—ï¼Œæ‚¨çš„ç€è¦½å™¨å¯èƒ½ä¸æ”¯æ´æ­¤åŠŸèƒ½ï¼Œè«‹æ‰‹å‹•è¤‡è£½ã€‚");
              }
          });
      } else {
           try {
              document.execCommand('copy');
              alert("å·²è¤‡è£½æ•™æ¡ˆæŒ‡ä»¤åˆ°å‰ªè²¼ç°¿ï¼(execCommand)");
          } catch (e) {
              console.error('execCommand å¤±æ•—: ', e);
              alert("è¤‡è£½å¤±æ•—ï¼Œæ‚¨çš„ç€è¦½å™¨å¯èƒ½ä¸æ”¯æ´æ­¤åŠŸèƒ½ï¼Œè«‹æ‰‹å‹•è¤‡è£½ã€‚");
          }
      }
    }
  </script>
</body>
</html>
